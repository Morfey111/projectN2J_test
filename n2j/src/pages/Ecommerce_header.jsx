import Avatar from '../images/Ecommerce/image-avatar.png';
import { useState } from 'react';

function Ecommerce_header({ cartItem, removeItem, quantity }) {
  const [open, setOpen] = useState(false);
  const [popCart, setPopcart] = useState(false);

  const Links = [
    { name: 'Collections', link: '#' },
    { name: 'Men', link: '#' },
    { name: 'Women', link: '#' },
    { name: 'About', link: '#' },
    { name: 'Contact', link: '#' },
  ];

  const popUp = (e) => {
    setOpen(!open);
    e.preventDefault();
  };

  return (
    <div className="lg:mb- mt-5 px-5 lg:mb-24 w-11/12 mx-auto ">
      <div
        className={`flex lg:justify-end :-lg:mr-44 lg:w-11/12 lg:ml-7  absolute z-30  left-0 top-16 right-0 h-[165vh] lg:h-10 lg:top-16 ${
          open ? 'top-14  pb-36 duration-500' : 'top-[-2000px] duration-500'
        }`}
      >
        <ul className=" absolute left-52 text-lg w-11/12 max-w-[520px] bg-white pl-7 pt-24 lg:flex lg:bg-opacity-0 lg:-mt-24 justify-between lg:w-3/6 ">
          {Links.map((list) => {
            return (
              <li className="mb-5 lg:ml-5 lg:mt-1" key={list.name}>
                <a
                  className="lg:relative lg:after:top-16 lg:after:absolute lg:after:bg-orangeEcomm
                    lg:after:h-1 lg:after:w-0 lg:after:left-0 lg:after:bottom-5
                    lg:hover:after:w-full lg:hover:after:duration-500"
                  href={list.link}
                >
                  {' '}
                  {list.name}
                </a>
              </li>
            );
          })}
        </ul>
        {/* <div className="bottom-0 top-0 left-0 right-0 bg-black w-1/3 opacity-70 lg:bg-opacity-0"></div>{' '} */}
        {/* </div> */}

        <div className="flex justify-between mb-6">
          <div className="flex">
            <button
              className="ml-2 mr-4 -mt-3 lg:hidden cursor-pointer z-50"
              onClick={popUp}
            >
              <svg
                className={open ? 'inline' : 'hidden'}
                name="close"
                width="14"
                height="15"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="m11.596.782 2.122 2.122L9.12 7.499l4.597 4.597-2.122 2.122L7 9.62l-4.595 4.597-2.122-2.122L4.878 7.5.282 2.904 2.404.782l4.595 4.596L11.596.782Z"
                  fill="#69707D"
                />
              </svg>

              <svg
                className={open ? 'hidden' : 'inline'}
                name="menu"
                width="16"
                height="15"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M16 12v3H0v-3h16Zm0-6v3H0V6h16Zm0-6v3H0V0h16Z"
                  fill="#69707D"
                />
              </svg>
            </button>
            <p className="-mt-2 absolute left-10 top-2">
              <svg
                name="open"
                width="147"
                height="33"
                xmlns="http://www.w3.org/2000/svg"
              >
                <g fill="#191826">
                  <path d="M2.84 18.992v-3.28h11.264l-.48.832v-.48c0-.608-.144-1.192-.432-1.752-.288-.56-.733-1.019-1.336-1.376-.603-.357-1.373-.536-2.312-.536-.939 0-1.747.2-2.424.6-.677.4-1.195.973-1.552 1.72s-.536 1.648-.536 2.704c0 1.088.173 2.019.52 2.792.347.773.864 1.368 1.552 1.784.688.416 1.544.624 2.568.624.661 0 1.232-.061 1.712-.184s.872-.28 1.176-.472c.304-.192.536-.405.696-.64.16-.235.256-.464.288-.688h4.896c-.064.715-.31 1.416-.736 2.104-.427.688-1.019 1.307-1.776 1.856-.757.55-1.677.984-2.76 1.304-1.083.32-2.317.48-3.704.48-1.877 0-3.515-.376-4.912-1.128-1.397-.752-2.48-1.792-3.248-3.12-.768-1.328-1.152-2.861-1.152-4.6 0-1.76.392-3.304 1.176-4.632.784-1.328 1.877-2.363 3.28-3.104 1.403-.741 3.027-1.112 4.872-1.112 1.888 0 3.52.376 4.896 1.128a7.878 7.878 0 0 1 3.184 3.152c.747 1.35 1.12 2.92 1.12 4.712 0 .267-.005.523-.016.768-.01.245-.027.427-.048.544H2.84Zm25.588 7.392c-1.42 0-2.726-.339-3.92-1.016-1.195-.677-2.155-1.683-2.88-3.016-.726-1.333-1.088-2.976-1.088-4.928 0-1.867.37-3.45 1.112-4.752.74-1.301 1.712-2.29 2.912-2.968a7.734 7.734 0 0 1 3.864-1.016c1.344 0 2.573.341 3.688 1.024 1.114.683 2.008 1.613 2.68 2.792.672 1.179 1.008 2.536 1.008 4.072v.304l-2.144.032v-.208c0-.8-.192-1.488-.576-2.064a3.938 3.938 0 0 0-1.488-1.336 4.09 4.09 0 0 0-1.904-.472c-1.1 0-2.048.365-2.848 1.096-.8.73-1.2 1.896-1.2 3.496s.402 2.776 1.208 3.528c.805.752 1.752 1.128 2.84 1.128.682 0 1.328-.163 1.936-.488a3.859 3.859 0 0 0 1.472-1.384c.373-.597.56-1.301.56-2.112l2.144.112c0 1.525-.328 2.904-.984 4.136-.656 1.232-1.542 2.213-2.656 2.944-1.115.73-2.36 1.096-3.736 1.096Zm5.232 6.608V9.008h4.976v23.984H33.66Zm14.355-6.672c-1.205 0-2.197-.195-2.976-.584-.779-.39-1.392-.915-1.84-1.576a6.381 6.381 0 0 1-.944-2.208 11.254 11.254 0 0 1-.272-2.464V9.008h4.96v9.168c0 .715.08 1.37.24 1.968.16.597.456 1.077.888 1.44s1.048.544 1.848.544c.779 0 1.44-.221 1.984-.664.544-.443.96-1.01 1.248-1.704a5.538 5.538 0 0 0 .432-2.144l1.392 1.136a8.842 8.842 0 0 1-.488 2.976 7.408 7.408 0 0 1-1.384 2.408 6.208 6.208 0 0 1-2.184 1.608c-.859.384-1.827.576-2.904.576Zm5.568-.32V9.008h4.96V26h-4.96Zm13.988.352c-1.238 0-2.339-.197-3.304-.592-.966-.395-1.72-.965-2.264-1.712-.544-.747-.816-1.653-.816-2.72 0-1.205.33-2.187.992-2.944.661-.757 1.538-1.336 2.632-1.736 1.093-.4 2.28-.664 3.56-.792 1.866-.181 3.154-.347 3.864-.496.709-.15 1.064-.41 1.064-.784v-.032c0-.63-.302-1.125-.904-1.488-.603-.363-1.443-.544-2.52-.544-1.142 0-2.014.205-2.616.616-.603.41-.904 1.037-.904 1.88h-4.88c0-1.365.37-2.517 1.112-3.456.741-.939 1.746-1.65 3.016-2.136 1.269-.485 2.704-.728 4.304-.728 1.493 0 2.874.227 4.144.68 1.269.453 2.29 1.133 3.064 2.04.773.907 1.16 2.059 1.16 3.456v7.344c0 .437.013.856.04 1.256.026.4.088.765.184 1.096.106.373.24.683.4.928.16.245.293.416.4.512h-4.88a3.403 3.403 0 0 1-.344-.464 3.622 3.622 0 0 1-.392-.816 6.578 6.578 0 0 1-.28-1.128 8.845 8.845 0 0 1-.088-1.336l1.024.704c-.299.704-.782 1.31-1.448 1.816-.667.507-1.456.896-2.368 1.168-.912.272-1.896.408-2.952.408Zm1.328-3.712c.778 0 1.506-.141 2.184-.424a3.752 3.752 0 0 0 1.656-1.336c.426-.608.64-1.403.64-2.384v-1.712l1.232 1.2a14.83 14.83 0 0 1-2.44.632c-.923.165-1.843.296-2.76.392-1.088.107-1.902.29-2.44.552-.539.261-.808.701-.808 1.32 0 .587.229 1.027.688 1.32.458.293 1.141.44 2.048.44ZM86.598.992V26h-4.896V.992zM89.914 26V9.008h4.912V26h-4.912Zm2.448-19.76c-.768 0-1.438-.203-2.008-.608-.57-.405-.856-.976-.856-1.712 0-.747.285-1.323.856-1.728.57-.405 1.24-.608 2.008-.608.778 0 1.453.203 2.024.608.57.405.856.981.856 1.728s-.286 1.32-.856 1.72c-.57.4-1.246.6-2.024.6ZM102.381 22.112h9.216V26H97.069v-3.68l8.992-9.616.112.176h-8.784V9.008h14.016v3.68l-8.912 9.584zM115.52 18.992v-3.28h11.265l-.48.832v-.48c0-.608-.144-1.192-.432-1.752-.288-.56-.733-1.019-1.336-1.376-.603-.357-1.373-.536-2.312-.536-.939 0-1.747.2-2.424.6-.677.4-1.195.973-1.552 1.72s-.536 1.648-.536 2.704c0 1.088.173 2.019.52 2.792.347.773.864 1.368 1.552 1.784.688.416 1.544.624 2.568.624.661 0 1.232-.061 1.712-.184s.872-.28 1.176-.472c.304-.192.536-.405.696-.64.16-.235.256-.464.288-.688h4.896c-.064.715-.31 1.416-.736 2.104-.427.688-1.019 1.307-1.776 1.856-.757.55-1.677.984-2.76 1.304-1.083.32-2.317.48-3.704.48-1.877 0-3.515-.376-4.912-1.128-1.397-.752-2.48-1.792-3.248-3.12-.768-1.328-1.152-2.861-1.152-4.6 0-1.76.392-3.304 1.176-4.632.784-1.328 1.877-2.363 3.28-3.104 1.403-.741 3.027-1.112 4.872-1.112 1.888 0 3.52.376 4.896 1.128a7.878 7.878 0 0 1 3.184 3.152c.747 1.35 1.12 2.92 1.12 4.712 0 .267-.005.523-.016.768-.01.245-.027.427-.048.544H115.52ZM134.005 26V9.008h4.976v5.856l-1.024-.64c.118-.8.331-1.536.64-2.208a6.08 6.08 0 0 1 1.2-1.752 5.21 5.21 0 0 1 1.752-1.16c.678-.277 1.454-.416 2.328-.416.683 0 1.22.05 1.608.152.39.101.632.179.728.232l-.816 4.448a5.322 5.322 0 0 0-.64-.256c-.33-.117-.757-.176-1.28-.176-.853 0-1.568.144-2.144.432a3.758 3.758 0 0 0-1.384 1.144c-.346.475-.594 1-.744 1.576a6.923 6.923 0 0 0-.224 1.744V26h-4.976Z" />
                </g>
              </svg>
            </p>
          </div>

          <div
            className={
              popCart
                ? 'inline absolute p-5 z-30 -right-7 top-12 shadow-2xl'
                : 'hidden'
            }
          >
            <div>
              <div
                className={
                  cartItem.length > 0 ? `hidden` : 'block pt-16 pb-24 px-12  '
                }
              >
                <p className="absolute top-5 left-5">
                  <b>cart</b>
                </p>
                <b> {cartItem.length === 0 && 'Your cart is empty.'}</b>
              </div>
            </div>
            <div className={cartItem.length > 0 ? `block` : 'hidden'}>
              {/* Cart container */}

              {cartItem.map((item) => {
                return (
                  <div key={item.id}>
                    <h2 className="text-xl text-bold mb-10">Cart</h2>
                    <div className="">
                      <img
                        className="w-16 float-left mr-3"
                        src={item.image.img1}
                        alt="image_product"
                      />{' '}
                      <span>{item.title}</span>
                    </div>
                    <div className="flex justify-between">
                      <p>
                        {item.pricePromotion}
                        {/* <b>${item.pricePromotion * item.quantity}.00</b>{' '} */}
                      </p>{' '}
                      X {quantity} {quantity * item.pricePromotion}
                      <button
                        onClick={() => {
                          removeItem(item);
                        }}
                      >
                        {/* <svg
                          width="14"
                          height="15"
                          xmlns="http://www.w3.org/2000/svg"
                        >
                          <path
                            d="m11.596.782 2.122 2.122L9.12 7.499l4.597 4.597-2.122 2.122L7 9.62l-4.595 4.597-2.122-2.122L4.878 7.5.282 2.904 2.404.782l4.595 4.596L11.596.782Z"
                            fill="#69707D"
                            fillRule="evenodd"
                          />
                        </svg> */}
                        <svg
                          width="14"
                          height="16"
                          xmlns="http://www.w3.org/2000/svg"
                          xmlnsXlink="http://www.w3.org/1999/xlink"
                        >
                          <defs>
                            <path
                              d="M0 2.625V1.75C0 1.334.334 1 .75 1h3.5l.294-.584A.741.741 0 0 1 5.213 0h3.571a.75.75 0 0 1 .672.416L9.75 1h3.5c.416 0 .75.334.75.75v.875a.376.376 0 0 1-.375.375H.375A.376.376 0 0 1 0 2.625Zm13 1.75V14.5a1.5 1.5 0 0 1-1.5 1.5h-9A1.5 1.5 0 0 1 1 14.5V4.375C1 4.169 1.169 4 1.375 4h11.25c.206 0 .375.169.375.375ZM4.5 6.5c0-.275-.225-.5-.5-.5s-.5.225-.5.5v7c0 .275.225.5.5.5s.5-.225.5-.5v-7Zm3 0c0-.275-.225-.5-.5-.5s-.5.225-.5.5v7c0 .275.225.5.5.5s.5-.225.5-.5v-7Zm3 0c0-.275-.225-.5-.5-.5s-.5.225-.5.5v7c0 .275.225.5.5.5s.5-.225.5-.5v-7Z"
                              id="a"
                            />
                          </defs>
                          <use
                            fill="#C3CAD9"
                            fillRule="nonzero"
                            xlinkHref="#a"
                          />
                        </svg>
                      </button>
                    </div>
                    <div></div>
                  </div>
                );
              })}

              <div className={cartItem.length > 0 ? `block` : 'hidden'}>
                {' '}
                <button className="bg-orangeEcomm text-white bold p-3 mt-8 w-full rounded">
                  Checkout
                </button>
              </div>
            </div>
          </div>

          <div className="flex ">
            {/* why do not work hover ?  */}

            <p
              className="hover:cursor-pointer"
              onClick={() => {
                setPopcart(!popCart);
              }}
            >
              <span
                className={
                  cartItem.length === 0
                    ? 'hidden'
                    : 'absolute bg-orangeEcomm text-white text-xs -mt-4 ml-3 block px-1 ml- rounded'
                }
              >
                {quantity}
              </span>

              <svg width="22" height="20" xmlns="http://www.w3.org/2000/svg">
                <path
                  d="M20.925 3.641H3.863L3.61.816A.896.896 0 0 0 2.717 0H.897a.896.896 0 1 0 0 1.792h1l1.031 11.483c.073.828.52 1.726 1.291 2.336C2.83 17.385 4.099 20 6.359 20c1.875 0 3.197-1.87 2.554-3.642h4.905c-.642 1.77.677 3.642 2.555 3.642a2.72 2.72 0 0 0 2.717-2.717 2.72 2.72 0 0 0-2.717-2.717H6.365c-.681 0-1.274-.41-1.53-1.009l14.321-.842a.896.896 0 0 0 .817-.677l1.821-7.283a.897.897 0 0 0-.87-1.114ZM6.358 18.208a.926.926 0 0 1 0-1.85.926.926 0 0 1 0 1.85Zm10.015 0a.926.926 0 0 1 0-1.85.926.926 0 0 1 0 1.85Zm2.021-7.243-13.8.81-.57-6.341h15.753l-1.383 5.53Z"
                  fill="#69707D"
                />
              </svg>
            </p>
            <p
              className="ml-6 w-12 h-12  p-[1px] -mt-3 "
              onSelectCapture={false}
            >
              <img
                src={Avatar}
                alt="avatar"
                className="hover:cursor-pointer hover:border-2  hover:border-orangeEcomm rounded-3xl"
              />
            </p>
          </div>
        </div>
      </div>
    </div>
  );
}

export default Ecommerce_header;
